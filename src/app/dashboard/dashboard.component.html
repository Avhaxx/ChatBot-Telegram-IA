<div class="container  200 mx-auto p-6 ">
  <div class="flex justify-between items-center mb-4">
    <div class="text-xl font-bold">
      Bienvenido, {{ username }}
      <button (click)="logout()" class="bg-red-400 hover:bg-red-900 text-white font-bold py-2 px-4 rounded ml-4">
        Cerrar sesión
      </button>
    </div>
    <div class="flex space-x-4">
      <button (click)="addCategoria()"
        class="bg-teal-600 hover:bg-teal-900 text-white font-black py-2 px-4 rounded">
        Añadir categoría
      </button>
      <button (click)="toggleBot()"
        [class.bg-green-600]="botActivo"
        [class.bg-red-600]="!botActivo"
        class="hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
        ChatBot:
        {{ botActivo ? 'ON' : 'OFF' }}
      </button>
    </div>
  </div>


  <div *ngFor="let categoria of categorias" class="bg-gray-300 rounded-lg shadow-md p-6 my-6"> <div class="flex justify-between items-center mb-4">
    <h3 class="text-xl font-bold">{{ categoria.nombre }}</h3>
    <div class="space-x-4"> <button (click)="addModalProducto(categoria)"
        class="bg-teal-600 hover:bg-teal-900 text-white font-black py-2 px-4 rounded">
        Añadir Producto
      </button> <button (click)="editarModalCategoria(categoria)"
        class="bg-teal-600 hover:bg-teal-900 text-white font-black py-2 px-4 rounded">
        Editar Categoría
      </button> </div>
  </div>

  <table class="table-fixed w-full border-collapse">
      <thead>
        <tr>
          <th class="text-left py-3 px-6 border-b w-1/4">Nombre</th>
          <th class="text-left py-3 px-6 border-b w-1/3">Descripción</th>
          <th class="text-left py-3 px-6 border-b w-1/9">Precio $</th>
          <th class="py-3 px-6 border-b w-1/4 text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let producto of categoria.productos">
          <td class=" border-b w-1/4 break-words">{{ producto.nombre }}</td>
          <td class="py-3 px-4 border-b w-2/5 break-words whitespace-pre-wrap">{{ producto.descripcion }}</td>
          <td class="py-3 px-4 border-b w-1/8">{{ producto.precio }}</td>
          <td class="py-3 px-4 border-b w-1/8 text-center">
            <div class="flex flex-col sm:flex-row justify-center items-center sm:space-x-2">
              <button (click)="editarModalProducto(producto)"
                class="bg-sky-600 hover:bg-sky-900 text-white font-bold py-2 px-4 rounded w-full sm:w-auto mb-1 sm:mb-0">
                Editar
              </button>
              <button (click)="eliminarProducto(producto)"
               class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded w-full sm:w-auto">
                Eliminar
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>